<div class="login-page">
  <div class="container py-5">
    <div class="auth-shell mx-auto">

      <div class="pane pane-logo d-flex align-items-center justify-content-center">
        <img src="assets/logo.png" alt="BANTADS" class="brand-img" />
      </div>


      <div class="pane pane-form">
        <h1 class="h4 text-center mb-4 fw-semibold">Sign Up</h1>

        <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
          <div class="row g-3">
            <div class="col-12">
              <label class="form-label" for="nome">Nome</label>
              <input id="nome" type="text" class="form-control"
                     formControlName="nome"
                     [class.is-invalid]="f.nome.touched && f.nome.invalid"/>
              <div class="invalid-feedback" *ngIf="f.nome.touched && f.nome.errors?.['required']">
                Nome é obrigatório.
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label" for="email">E-mail</label>
              <input id="email" type="email" class="form-control"
                     formControlName="email" placeholder="email@exemplo.com"
                     [class.is-invalid]="f.email.touched && f.email.invalid"/>
              <div class="invalid-feedback" *ngIf="f.email.touched && f.email.errors?.['required']">
                E-mail é obrigatório.
              </div>
              <div class="invalid-feedback" *ngIf="f.email.touched && f.email.errors?.['email']">
                Informe um e-mail válido.
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label" for="cpf">CPF</label>
              <input id="cpf" type="text" class="form-control"
                     placeholder="000.000.000-00"
                     formControlName="cpf"
                     mask="000.000.000-00"
                     appCpfValidator
                     [class.is-invalid]="f.cpf.touched && f.cpf.invalid"/>
              <div class="invalid-feedback" *ngIf="f.cpf.touched && f.cpf.errors?.['required']">
                CPF é obrigatório.
              </div>
              <div class="invalid-feedback" *ngIf="f.cpf.touched && f.cpf.errors?.['cpf']">
                CPF inválido.
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label" for="salario">Salário (R$)</label>
              <input id="salario" type="text" min="0" class="form-control"
                     mask="separator.2"
                     thousandSeparator="."
                     decimalMarker=","
                     prefix="R$ "
                     formControlName="salario"
                     [class.is-invalid]="f.salario.touched && f.salario.invalid"/>
              <div class="invalid-feedback" *ngIf="f.salario.touched && f.salario.errors?.['required']">
                Salário é obrigatório.
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label" for="cep">CEP</label>
              <div class="position-relative">
                <input id="cep" type="text" class="form-control"
                       placeholder="00000-000"
                       mask="00000-000"
                       formControlName="cep"
                       [class.is-invalid]="(f.cep.touched && f.cep.invalid) || cepNotFound"/>
                <div class="spinner-border spinner-border-sm text-primary loading-cep" *ngIf="loadingCep" role="status"></div>
              </div>
              <div class="invalid-feedback" *ngIf="f.cep.touched && f.cep.errors?.['required']">
                CEP é obrigatório.
              </div>
              <div class="invalid-feedback" *ngIf="f.cep.touched && f.cep.errors?.['pattern']">
                CEP inválido (use 00000-000).
              </div>
              <div class="invalid-feedback d-block" *ngIf="cepNotFound">
                CEP não encontrado.
              </div>
            </div>

            <div class="col-md-8">
              <label class="form-label" for="logradouro">Logradouro</label>
              <input id="logradouro" type="text" class="form-control" formControlName="logradouro"/>
            </div>

            <div class="col-md-4">
              <label class="form-label" for="numero">Número</label>
              <input id="numero" type="text" class="form-control" formControlName="numero"/>
            </div>

            <div class="col-md-6">
              <label class="form-label" for="complemento">Complemento</label>
              <input id="complemento" type="text" class="form-control" formControlName="complemento"/>
            </div>

            <div class="col-md-6">
              <label class="form-label" for="bairro">Bairro</label>
              <input id="bairro" type="text" class="form-control" formControlName="bairro"/>
            </div>

            <div class="col-md-8">
              <label class="form-label" for="cidade">Cidade</label>
              <input id="cidade" type="text" class="form-control" formControlName="cidade"/>
            </div>

            <div class="col-md-4">
              <label class="form-label" for="estado">Estado</label>
              <input id="estado" type="text" class="form-control" formControlName="estado" maxlength="2" placeholder="UF"/>
            </div>
          </div>

          <div class="d-grid mt-4">
            <button class="btn btn-primary btn-lg" type="submit">Criar Conta</button>
          </div>
          <div class="d-grid mt-4">
            <button type="button" class="btn btn-primary btn-lg" routerLink="/login">Voltar</button>
          </div>
        </form>
      </div>
    </div>

    <p class="text-center text-white small mt-4 mb-0">© {{ year }} — BANTADS</p>
  </div>

  <div class="modal fade" id="successRegisterModal" tabindex="-1" aria-labelledby="successRegisterModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="successRegisterModalLabel">Cadastro Enviado</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body text-center">
        <p class="fw-semibold">
          Cadastro enviado para análise.<br>
          Quando aprovado, sua senha será encaminhada para o seu e-mail.
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" routerLink="/login">OK</button>
      </div>
    </div>
  </div>
</div>
</div>
